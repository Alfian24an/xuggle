<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="video, audio, xuggle, codec, ffmpeg, java, c++" />
    <link type="text/css" rel="stylesheet" href="http://www.xuggle.com/css/xuggle.css" />
    <link rel="icon" href="http://www.xuggle.com/resources/xuggle-favicon-48x48.png"/>

    <!-- compliance patch for microsoft browsers -->
    <!--[if lt IE 8]><script src="http://ie7-js.googlecode.com/svn/version/2.0(beta3)/IE8.js" type="text/javascript"></script>
    <![endif]-->
    <title>Release Checklist</title>
  </head>
  <body>
    <h1>
      How To Make a New Xuggle Library Release
    </h1>
    <h2>
      Release Checklist
    </h2>
    <p>
      This is a checklist of the steps one should take when bundling a new release of a xuggle library.
    </p>
    <ul>
      <li>
        Document proposed SVN revision, and SVN revision of any Externals.
      </li>
      <li>
        Build candidate on each supported OS
      (ant all) and make sure all native and Java tests pass 100%.
      </li>
      <li>
        If library has native code; cd build/native/`config.guess` and run 
  &quot;
make distcheck
  &quot;
      </li>
      <li>
        If the library has native code, make sure you're running with our hacked version of Swig that adds the Doxygen comments as Javadoc
      </li>
      <li>
        Create tag for candidate
        with right version number format.
      </li>
      <li>
        Checkout tagged candidate
      </li>
      <li>
        Change all SVN:Externals in tagged candidate to hard revision references
      </li>
      <li>
        Build candidate on each supported OS
      </li>
      <li>
        Uninstall old versions of library on all supported OS
      </li>
      <li>
        Install candidate on each supported OS
      </li>
      <li>
        Do the appropriate library post-install test (e.g. for xuggler, java -jar xuggle-xuggler.jar test/fixtures/testfile.flv --acodec libmp3lame
        /tmp/out.flv)
      </li>
      <li>
        Update Release.txt file in root of dist tree with svn revision info for candidate, and all dependencies
      </li>
      <li>
        Upload new jars for release to repository
      </li>
      <li>
        Create Windows installer
      </li>
      <li>
        Use 
  &quot;ant dist
  &quot; 
        to create the build/native/`config.guess`/{library}.tar.gz source bundle
      </li>
      <li>
        Upload windows installer and source 
        bundle to Amazon S3
      </li>
      <li>
        Increment major and/or minor revision numbers in tip of tree (must change both configure.ac and build.xml).
      </li>
      <li>
        Re-run autotools if configure.ac was changed
      </li>
      <li>
        Update any downloads web pages with new release
      </li>
      <li>
        Update blog.xuggle.com
      </li>
      <li>
        Send message to xuggler-users@groups.google.com
      </li>
    </ul>
    <h2>
      Supported Platforms
    </h2>
    <p>
      Here's the list of platforms we try to support today.
    </p>
    <table>
      <tr>
        <th scope="col">OS</th>
        <th scope="col">Sun Java 1.5</th>
        <th scope="col">Sun Java 1.6</th>
        <th scope="col">Notes</th>
      </tr>
      <tr>
        <td>Windows Vista 32 Bit</td>
        <td>Yes</td>
        <td>Yes</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>Windows Vista 64 Bit</td>
        <td>No</td>
        <td>No</td>
        <td>This is because MinGW and Msys 64-bit support, and FFMPEG build support, on this platform is limited or non existent.</td>
      </tr>
      <tr>
        <td>Windows XP 32 Bit</td>
        <td>Yes</td>
        <td>Yes</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>Windows XP 64 Bit</td>
        <td>No</td>
        <td>No</td>
        <td>This is because MinGW and Msys 64-bit support, and FFMPEG build support, on this platform is limited or non existent.</td>
      </tr>
      <tr>
        <td>Mac OS-X 10.5+, 32 Bit</td>
        <td>Yes</td>
        <td>No</td>
        <td>This is because Mac doesn't have a 64-bit version of the 1.5 Java JVM</td>
      </tr>
      <tr>
        <td>Mac OS-X 10.5+, 64 Bit</td>
        <td>No</td>
        <td>Yes</td>
        <td>This is because Mac doesn't have a 32-bit version of the 1.6 Java JVM. Make sure you do &quot;ant -Dbuild.m64=yes&quot; for any builds on thsi platform.</td>
      </tr>
      <tr>
        <td>Linux 32 Bit</td>
        <td>Yes</td>
        <td>Yes</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>Linux 64 Bit</td>
        <td>Yes</td>
        <td>Yes</td>
        <td>&nbsp;</td>
      </tr>
    </table>
    <p>
      And yes Virginia, that means to do a release, you need to build your final candidate on each of those OSes.  You can substitute Vista for XP for now (but not the other way around), but expect that to change once someone ponies up an XP build box.
    </p>
    <p>
      You should try to write code that SHOULD work on all OSes and architectures that Java is supported on (e.g. Sparc, ARM, etc), but we're ownly on the hook for the above list right now.
    </p>
    <p>
      We don't try to support Kaffe, IBM's JVM, or any other JVM, but again, we try not to write code that stops that.
    </p>
    <p>&nbsp;
        </p>
    <p>
    </p>
    <h2>
      Version Number Format
    </h2>
    <p>
      Xuggle version numbers are of the form:
    </p>
    <pre>       {library}-{major}-{minor}-{revision}-{description}</pre>
    <p>
      For example:
    </p>
    <table>
      <tr>
        <th scope="col">Release</th>
        <th scope="col">Description</th>
      </tr>
      <tr>
        <td><pre>
xuggle-xuggler-1-15-137-rc1</pre></td>
        <td>A release candidate of xuggle-xuggler; major version is 1; minor version is 15; svn revision number is 137 and it's release candidate 1.</td>
      </tr>
      <tr>
        <td><pre>
xuggle-utils-2-15-35-rc1</pre></td>
        <td>A release candidate of xuggle-utils; major version is 2; minor version is 15; svn revision number is 35 and it's release candidate 2.</td>
      </tr>
      <tr>
        <td><pre>
xuggle-xuggler-red5-1-1-1129-final</pre></td>
        <td>A final release of xuggle-xuggler-red5; major version is 1; minor version is 1; svn revision number is 1129 and it's final.</td>
      </tr>
      <tr>
        <td><pre>
xuggle-xuggle-red5-1-1-1140-final</pre></td>
        <td>A final and bug fix release of xuggle-xuggler-red5; major version is 1; minor version is 1; svn revision number is 1140 and it's final. Not that since the major and minor is the same as the prior example, and both are &quot;final&quot; that this is a bug-fix update.</td>
      </tr>
    </table>
    <p>&nbsp;
    </p>
    <h3>&nbsp;
    </h3>
    <h2>
      When To Change Version Numbers
    </h2>
    <p>
      Try not to do major version increments that don't add major new features since users of the library will have to <strong>actively </strong>choose to upgrade 
      to use it; most people using ivy will take minor version increments without much hesitation.  None the less, here are some guidelines for what counts as a major revision.  This list is not final, and the actual decision should be made by the release team (currently Art and Robert).
    </p>
    <p>
    </p>
    <h3>
      Major Version Increments
    </h3>
    <p>
      Things that should almost definitely cause a major version increment
    </p>
    <ul>
      <li>
        Changing a C++ public header file to add, remove or change a class signature or method signature; if you're not sure the header file is public; increment major anyway.
      </li>
      <li>
        Major new feature added that breaks backwards compatibility (although you should try to ever break backwards compatibility).
      </li>
      <li>
        Adding a new feature that is 100% backwards compatible, but required adding native code.
      </li>
      <li>
        Removing a Java class or Interface, or a method from a Java class or Interface.
      </li>
      <li>
        Basically, if you f*ck with native code, be perpared to bump a major version number. Trust me on this.
      </li>
    </ul>
    <h3>
      Minor Version Increments
    </h3>
    <p>
      Things that should amost definitely cause a minor version increment
    </p>
    <ul>
      <li>
        Adding a new Java class, interface, or method
      </li>
      <li>
Adding a new feature that is 100% backwards compatibile, but did not require changing native code.
      </li>
    </ul>
    <h3>
      Revision Increments
    </h3>
    <ul>
      <li>
        Fixing a bug in a C++ file or Java file, but no changes to class, interface or method signatures
      </li>
      <li>
        Documentation updates
      </li>
    </ul>
    <p>&nbsp;
    </p>
  </body>
</html>
